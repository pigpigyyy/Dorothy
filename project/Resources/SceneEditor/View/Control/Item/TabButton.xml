<!-- params: X=0, Y=0, Width, Height, Text -->
<MenuItem Name="item" X="{ x or 0 }" Y="{ y or 0 }" Width="{ width }" Height="{ height }" Text="{ text }" Color="0x00ffff" Opacity="0.5">
	<Import Module="View.Shape.LineRect"/>

	<Action>
		<Opacity Name="fade" Time="0.3" Alpha="0.5" Ease="InQuad"/>
	</Action>	

	<LineRect Width="{ width }" Height="{ height }" Color="0xffffffff"/>
	<LabelTTF X="{ $X }" Y="{ $Y }" FontName="Arial" FontSize="16" AntiAlias="False" Text="{ text }"/>
	<Node Name="arrow" X="{ height/2 }" Y="{ height/2 }" PassColor="False">
		<DrawNode>
			<Polygon FillColor="0x22ff0080" BorderWidth="0.5" BorderColor="0xffff0080">
				<Vec2 X="-12" Y="-12"/>
				<Vec2 X="-12" Y="12"/>
				<Vec2 X="12" Y="0"/>
			</Polygon>
		</DrawNode>
	</Node>

	<Slot Name="TapBegan">
		item.opacity = 1
	</Slot>
	<Slot Name="TapEnded">
		if not item.checked then
			item:perform(fade)
		end
	</Slot>
	<Slot Name="Checked" Args="checked">
		if checked then
			item.opacity = 1
		end
	</Slot>
	<Slot Name="Expanded" Args="expend">
		if expend then
			arrow:perform(oRotate(0.3,90,oEase.OutExpo))
		else
			arrow:perform(oRotate(0.3,0,oEase.OutExpo))
		end
	</Slot>
</MenuItem>
