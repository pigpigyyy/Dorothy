<Scene Name="scene" Scheduler="defaultScheduler" SkewX="25" SkewY="45" TransformTarget="nil" Visible="false">
	<Layer Name="layer" AnchorX="0" PassColor="false" PassOpacity="false" Opacity="0.8" Color="0x00ffff" Angle="270" ZOrder="1" TouchEnabled="true" TouchMode="AllAtOnce" TouchPriority="998">
		<Sprite File="fire.clip|apple" X="120" Y="360" ScaleX="1" ScaleY="0.5" Width="300" ZOrder="3" Tag="123"
			BlendSrc="OneMinSrc" BlendDst="One"/>
		<LabelTTF Name="label" Text="Add  Effect" Color="0x00ffff" AnchorX="0.5" AnchorY="1" X="halfBW" Y="y" AntiAlias="false">
			<MenuItem Name="menuItem" ZOrder="999">
				<Data>
					<Sequence Name="seq" Key="scale">
						<Scale Time="1" X="1" Y="2" Ease="InSine"/>
						<Speed Rate="2">
							<Scale Time="1" X="1" Y="1" Ease="OutBack"/>
						</Speed>
						<Spawn>
							<Scale/>
							<Speed>
								<Scale/>
							</Speed>
						</Spawn>
					</Sequence>
					<Listener Event="settingPanel.move">
						function(pos)
							if 0 > pos.x or pos.y == 998 then
								label.position = pos
							end
						end
					</Listener>
				</Data>
				<TapHandler>
					function(item)
						item:runAction(item.data["scale"])
					end
				</TapHandler>
				<Schedule Priority="1">
					once(function()
						wait(seconds(10))
						print("hello")
						wait(seconds(3))
					end)
				</Schedule>
			</MenuItem>
		</LabelTTF>
		<Script>print("here")</Script>
		<Layer Name="baseLayer" AnchorY="0.5" Width="100" Height="200" Tag="998" TouchEnabled="true" TouchPriority="21703" MultiTouch="false">
			<TouchHandler>
				function(eventType, touch)
					if eventType == CCTouch.Began then
						layer.opacity = 1
						label.text = "Touched"
					elseif eventType == CCTouch.Ended then
						layer.opacity = 0
						label.text = "Touch Ended"
					end
				end
			</TouchHandler>
			<NodeHandler>
				function(eventType)
					if eventType == CCNode.Entered then
					elseif eventType == CCNode.Exited then
					elseif eventType == CCNode.CleanUp then
					end
				end
			</NodeHandler>
		</Layer>
	</Layer>
	
	<Script>
		scene.init = function()
			print("hello")
		end
	</Script>

	<SpriteBatch Name="batch" File="fire.png">
		<Sprite/>
		<Sprite/>
		<Sprite/>
		<Sprite/>
		<Sprite/>
		<Sprite/>
	</SpriteBatch>
	
	<ClipNode Stencil="batch" Inverted="false" AlphaThreshold="0.5"/>
	
	<LabelAtlas/>
	<LabelBMFont/>
	<LabelTTF Text="Good"/>
</Scene>